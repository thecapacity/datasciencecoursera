data <- { }
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
##        means[num] <- mean(in_f[pollutant][ !is.na(in_f[pollutant])] )
##        means[num] <- round(mean(unlist(in_f[pollutant][!is.na(in_f[pollutant])])),3)
data[num] <- in_f[pollutant][!is.na(in_f[pollutant])]
}
print(data)
##mean(means, na.rm=TRUE)
}
pollutantmean(directory, "sulfate", 70:72)
pollutantmean <- function(directory = "specdata", pollutant, id = 1:332) {
data <- { }
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
##        means[num] <- mean(in_f[pollutant][ !is.na(in_f[pollutant])] )
##        means[num] <- round(mean(unlist(in_f[pollutant][!is.na(in_f[pollutant])])),3)
data[num] <- in_f[pollutant][!is.na(in_f[pollutant])]
}
data
##mean(means, na.rm=TRUE)
}
pollutantmean(directory, "sulfate", 70:72)
}
pollutantmean(directory, "sulfate", 70:72)
?append
pollutantmean <- function(directory = "specdata", pollutant, id = 1:332) {
data <- vector()
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
##        means[num] <- mean(in_f[pollutant][ !is.na(in_f[pollutant])] )
##        means[num] <- round(mean(unlist(in_f[pollutant][!is.na(in_f[pollutant])])),3)
##        data[num] <- in_f[pollutant][!is.na(in_f[pollutant])]
data <- append(data, in_f[pollutant][!is.na(in_f[pollutant])] )
}
data
##mean(means, na.rm=TRUE)
}
pollutantmean(directory, "sulfate", 70:72)
pollutantmean <- function(directory = "specdata", pollutant, id = 1:332) {
data <- vector()
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
##        means[num] <- mean(in_f[pollutant][ !is.na(in_f[pollutant])] )
##        means[num] <- round(mean(unlist(in_f[pollutant][!is.na(in_f[pollutant])])),3)
##        data[num] <- in_f[pollutant][!is.na(in_f[pollutant])]
data <- append(data, in_f[pollutant][!is.na(in_f[pollutant])] )
}
mean(data)
##mean(means, na.rm=TRUE)
}
pollutantmean(directory, "sulfate", 70:72)
pollutantmean <- function(directory = "specdata", pollutant, id = 1:332) {
data <- vector()
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
##        means[num] <- mean(in_f[pollutant][ !is.na(in_f[pollutant])] )
##        means[num] <- round(mean(unlist(in_f[pollutant][!is.na(in_f[pollutant])])),3)
##        data[num] <- in_f[pollutant][!is.na(in_f[pollutant])]
data <- append(data, in_f[pollutant][!is.na(in_f[pollutant])] )
}
data
##round(mean(data),3)
##mean(means, na.rm=TRUE)
}
pollutantmean(directory, "sulfate", 70:72)
d<- pollutantmean(directory, "sulfate", 70:72)
mean(d)
d<- pollutantmean(directory, "nitrate", 23)
d
mean(d)
pollutantmean <- function(directory = "specdata", pollutant, id = 1:332) {
data <- vector()
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
##        means[num] <- mean(in_f[pollutant][ !is.na(in_f[pollutant])] )
##        means[num] <- round(mean(unlist(in_f[pollutant][!is.na(in_f[pollutant])])),3)
##        data[num] <- in_f[pollutant][!is.na(in_f[pollutant])]
data <- append(data, in_f[pollutant][!is.na(in_f[pollutant])] )
}
##data
round(mean(data),3)
##mean(means, na.rm=TRUE)
}
pollutantmean(directory, "nitrate", 23)
pollutantmean(directory, "nitrate", 70:72
)
pollutantmean(directory, "sulfate", 1:10)
pollutantmean <- function(directory = "specdata", pollutant, id = 1:332) {
data <- vector()
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
data <- append(data, in_f[pollutant][!is.na(in_f[pollutant])] )
}
round(mean(data),3)
}
pollutantmean(directory, "sulfate", 1:10)
directory<-paste0("r_prog_hw1/", "specdata")
pollutantmean(directory, "sulfate", 1:10)
?mean
mean( c(NA, NA) )
mean( c(NA, NA), na.rm=TRUE )
mean( c(), na.rm=TRUE )
d <- vector()
mean(d)
mean(d, na.rm = TRUE)
rm(d)
?data.frame
d<-data.frame()
d['test']
d['test'] = 1:10
d['test'] = seq(1,10)
d
d[0] = c(1,0)
?assign
type(d)
class(d)
?d
assign( "d[1]", c(0,1) )
d
d[1]
d
d[1]
d[1,]
d[,1]
rm(d[1])
rm("d[1])
rm("d[1]")
assign( d[1], c(0,1) )
d <- data.frame( colnames=c("id", "nobs"))
d
d[1] = c(1, 100)
d
id=1:10
id
seq(id)
d<-data.frame(id)
d
d<-data.frame(id, nobs=seq(0))
d
d<-data.frame(id, nobs=c(0))
d
d[6]['nobs'] = 10
d[6][2] = 10
?rbind
d
rbind(d[6], c(6,10))
d[6,] = c(6, 10)
d
d[7,2] = 12
d
complete <- function(directory, id = 1:332) {
data <- data.frame( seq(id) )
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- length(complete.cases(in_f))
data[num,2] <- nobs
}
directory
directory <- paste0("r_prog_hw1/", "specdata")
directory
}
)
directory
complete(directory)
complete <- function(directory, id = 1:332) {
data <- data.frame( seq(id) )
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- length(complete.cases(in_f))
data[num,2] <- nobs
}
data
}
complete(directory)
complete(directory, 1)
complete <- function(directory, id = 1:332) {
data <- data.frame( seq(id) )
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrows(complete.cases(in_f))
data[num,2] <- nobs
}
data
}
complete(directory, 1)
complete <- function(directory, id = 1:332) {
data <- data.frame( seq(id) )
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(complete.cases(in_f))
data[num,2] <- nobs
}
data
}
complete(directory, 1)
complete <- function(directory, id = 1:332) {
data <- data.frame( seq(id) )
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- length(complete.cases(in_f))
data[num,2] <- nobs
}
data
}
complete(directory, 1)
complete <- function(directory, id = 1:332) {
data <- data.frame()
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- length(complete.cases(in_f))
data[num,2] <- nobs
}
data
}
complete(directory, 1)
complete <- function(directory, id = 1:332) {
data <- data.frame(id)
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- length(complete.cases(in_f))
data[num,2] <- nobs
}
data
}
complete(directory, 1)
complete <- function(directory, id = 1:332) {
data <- data.frame(id, nobs=c(0))
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- length(complete.cases(in_f))
data[num,2] <- nobs
}
data
}
complete(directory, 1)
num = 1
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
complete.cases(in_f)
in_f[complete.cases(in_f)]
?complete.cases
in_f[complete.cases(in_f),]
nrow(in_f[complete.cases(in_f),])
length(in_f[complete.cases(in_f),])
nobs <- nrow(in_f[complete.cases(in_f)],)
complete <- function(directory, id = 1:332) {
data <- data.frame(id, nobs=c(0))
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(in_f[complete.cases(in_f)],)
data[num,2] <- nobs
}
data
}
complete(directory, 1)
complete <- function(directory, id = 1:332) {
data <- data.frame(id, nobs=c(0))
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(in_f[complete.cases(in_f),])
data[num,2] <- nobs
}
data
}
complete(directory, 1)
complete(directory, c(2, 4, 8, 10, 12))
complete <- function(directory, id = 1:332) {
data <- data.frame(id=length(id), nobs=c(0))
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(in_f[complete.cases(in_f),])
data[num,2] <- nobs
}
data
}
complete(directory, c(2, 4, 8, 10, 12))
i <- c(2, 4, 8, 10, 12)
length(i)
i
d<- data.frame(id=length(i), nobs=c(0))
d
complete <- function(directory, id = 1:332) {
data <- data.frame(id=seq(1,length(id)), nobs=c(0))
for (num in id) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(in_f[complete.cases(in_f),])
data[num,2] <- nobs
}
data
}
d<- data.frame(id=seq(1,length(i)), nobs=c(0))
d
d.nrows
nrows(d)
rows(d)
d
d[1] = c(10, 20)
d[1,] = c(10, 20)
d
complete <- function(directory, id = 1:332) {
data <- data.frame(id=seq(1,length(id)), nobs=c(0))
for (num in seq(1, length(id))) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(in_f[complete.cases(in_f),])
data[num,] <- id[num], nobs
}
data
}
complete <- function(directory, id = 1:332) {
data <- data.frame(id=seq(1,length(id)), nobs=c(0))
for (num in seq(1, length(id))) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(in_f[complete.cases(in_f),])
data[num,] <- id[num], nobs
}
data
}
complete <- function(directory, id = 1:332) {
data <- data.frame(id=seq(1,length(id)), nobs=c(0))
for (num in seq(1, length(id))) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(in_f[complete.cases(in_f),])
data[num,] <- id[num], nobs
}
data
}
complete <- function(directory, id = 1:332) {
data <- data.frame(id=seq(1,length(id)), nobs=c(0))
for (num in seq(1, length(id))) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
nobs <- nrow(in_f[complete.cases(in_f),])
data[num,] <- c(id[num], nobs)
}
data
}
complete(directory, c(2, 4, 8, 10, 12))
complete(directory, 2)
complete(directory, 1)
complete(directory, 30:25)
complete(directory, 25)
in_f
complete.cases(in_f)
sum(complete.cases(in_f))
complete <- function(directory, id = 1:332) {
data <- data.frame(id=seq(1,length(id)), nobs=c(0))
for (num in seq(1, length(id))) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", num), ".csv"))
##nobs <- nrow(in_f[complete.cases(in_f),])
##nobs <- nrow(na.omit(in_f))
nobs <- sum(complete.cases(in_f))
data[num,] <- c(id[num], nobs)
}
data
}
complete(directory, 25)
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", 25), ".csv"))
sum(complete.cases(in_f))
complete <- function(directory, id = 1:332) {
data <- data.frame(id=seq(1,length(id)), nobs=c(0))
for (num in seq(1, length(id))) {
in_f <- read.csv(paste0(directory, "/", sprintf("%03d", id[num]), ".csv"))
nobs <- sum(complete.cases(in_f))
data[num,] <- c(id[num], nobs)
}
data
}
complete(directory, 25)
complete(directory, c(2, 4, 8, 10, 12))
complete(directory, 30:25)
complete(directory, 3)
directory
files <- list.files(directory)
files
?corr
?correlation
?cor
f
diretory
directory
f[0]
files[0]
files[1]
in_f <- read.csv(paste0(directory,"/", files[1]))
cc <- complete.cases(in_f)
sum(cc)
cor(f['sultate'][cc])
cor(in_f['sultate'][cc])
cor(in_f)
cor(in_f[cc])
in_f[cc]
cc
in_f['sulfites'][cc]
in_f['nitrate'][cc]
head(in_f)
in_f['nitrate']
in_f['nitrate'][cc]
in_f[cc]['nitrate']
head(in_f)
head(in_f['nitrate]'])
head(in_f['nitrate]')
head(in_f['nitrate'])
head(in_f['nitrate'][cc])
head(in_f['nitrate'][complte.cases(in_f)])
head(in_f['nitrate'][complte.cases(in_f['nitrate'])])
head(in_f['nitrate'][complete.cases(in_f['nitrate'])])
cor(in_f, use="complete.obs", method="pearson")
cor(in_f['nitrate'], use="complete.obs", method="pearson")
cor(in_f['nitrate'], use="complete.obs")
cc
sum(cc)
cor(in_f, use="complete.obs")
in_f[cc]
cc
in_f[!cc]
in_f['sulfate']
in_f['sulfate'][cc]
in_f['sulfate'][cc,]
in_f['sulfate'][,cc]
in_f['sulfate'][cc]
in_f['sulfate'][,cc]
in_f['sulfate'][cc,]
cor(in_f['sulfate'][cc,])
cor(in_f[cc,])
cor(in_f[cc,]['sulfate']
)
cor(in_f[cc,])
cor(in_f[cc,]['nitrate'])
in_f
in_f[cc,]
in_f[cc,]['sulfate']
in_f[cc,]['nitrate']
corr <- function(directory, threshold = 0) {
data <- vector()
files <- list.files(directory)
for (f in files) {
in_f <- read.csv(paste0(directory, "/", f))
cc <- complete.cases(in_f)
if ( sum(cc) > threshold) {
data <- append(data, cor(in_f[cc,]['sulfate'], in_f[cc,]['sulfate']) )
}
data
}
cr <- corr(directory, 150)
head(cr)
summary(cr)
len(cr)
length(cr)
cr <- corr(directory, 5000)
length(cr)
in_f[cc,]['sulfate']
in_f[cc,][['sulfate']]
corr <- function(directory, threshold = 0) {
data <- vector()
files <- list.files(directory)
for (f in files) {
in_f <- read.csv(paste0(directory, "/", f))
cc <- complete.cases(in_f)
if ( sum(cc) > threshold) {
data <- append(data, cor(in_f[cc,][['sulfate']], in_f[cc,][['nitrate']]) )
}
data
}
cr <- corr(directory, 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
cr <- corr(directory, 400)
head(cr)
cr <- corr(directory)
length(cr)
summary(cr)
in_f
in_f[cc,]
in_f[cc,]['sulfate']
head(in_f[cc,]['sulfate'])
head(in_f[cc,][['sulfate']])
type(in_f[cc,][['sulfate']])
class(in_f[cc,][['sulfate']])
class(in_f[cc,]['sulfate'])
getwd()
setwd("~/sandbox/datasciencecoursera/r_prog_hw1")
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
3
submit()
?factor
viewinfo()
ind <- list(c(1, 2, 2), c("A", "A", "B"))
ind
ind[1]
ind[[1]]
ind[[1]][1]
ind[1,]
ind[1]
ind[1,]
ind[1][1,]
class(ind[1])
class(ind[[1]]
)
ind
table(ind)
tapply(ind, ind)
tapply(1:3), ind)
tapply(1:3, ind)
tapply(1:3, ind, sum)
sample(1:10)
sample(1:3)
sample(1:3, replace=T)
sample(1:3)
?str
getwd()
